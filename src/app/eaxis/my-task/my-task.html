<div class="row my-task-wrapper">
    <div data-ng-class="MyTaskCtrl.ePage.Masters.IsToggleFilter ? 'col-xs-12 col-sm-12 col-md-8 col-lg-8 col-xl-8' : 'col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12'">
        <form novalidate class="clearfix">
            <div class="input-group input-group-sm">
                <input type="text" class="form-control" data-ng-model="MyTaskCtrl.ePage.Masters.MyTask.Search" placeholder="Search">
                <span class="input-group-btn">
                    <input type="submit" class="btn btn-default no-border-left" value="Go" data-ng-click="MyTaskCtrl.ePage.Masters.MyTask.SearchTask()"
                    />
                </span>
                <span class="input-group-btn hidden-sm hidden-xs">
                    <button class="btn btn-default my-task-togle-icon ml-10" data-ng-class="MyTaskCtrl.ePage.Masters.IsToggleFilter ? 'fa fa-arrow-right' : 'fa fa-arrow-left'"
                        type="button" data-ng-click="MyTaskCtrl.ePage.Masters.OnToggleFilterClick()" title="Toggle Filter"></button>
                </span>
                <span class="input-group-btn hidden-lg hidden-md">
                    <button class="btn btn-default my-task-togle-icon ml-10" data-ng-class="MyTaskCtrl.ePage.Masters.IsToggleFilter ? 'fa fa-arrow-left' : 'fa fa-arrow-right'"
                        type="button" data-ng-click="MyTaskCtrl.ePage.Masters.OnToggleFilterClick()" title="Toggle Filter"></button>
                </span>
            </div>
        </form>
        <div class="my-task-list clearfix">
            <ul class="clearfix">
                <div class="clearfix pt-100 text-center" data-ng-if="MyTaskCtrl.ePage.Masters.MyTask.IsFirstLoad">
                    <img src="assets/img/no-records/task.png">
                </div>

                <div class="clearfix p-30 text-center" data-ng-if="!MyTaskCtrl.ePage.Masters.MyTask.IsFirstLoad && !MyTaskCtrl.ePage.Masters.MyTask.WorkItemDetails">
                    <i class="fa fa-spin fa-spinner" style="font-size: 18px;"></i>
                </div>

                <div class="clearfix p-30 text-center" data-ng-if="!MyTaskCtrl.ePage.Masters.MyTask.IsFirstLoad && MyTaskCtrl.ePage.Masters.MyTask.WorkItemDetails.length == 0">
                    <i>No Records...!</i>
                </div>

                <li class="list" data-ng-repeat="y in MyTaskCtrl.ePage.Masters.MyTask.WorkItemDetails" data-ng-if="!MyTaskCtrl.ePage.Masters.MyTask.IsFirstLoad && MyTaskCtrl.ePage.Masters.MyTask.WorkItemDetails.length > 0">
                    <div class="clearfix my-task-wrapper">
                        <div class="my-task-header clearfix">
                            <div class="row">
                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                    <div class="text-single-line font-600">Available Date</div>
                                    <div class="text-single-line" title="{{y.AvailableDate | date:'dd MMM h:mm a'}}">{{y.AvailableDate | date:'dd MMM h:mm a'}}</div>
                                </div>
                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                    <div class="text-single-line font-600">Due Date</div>
                                    <div class="text-single-line" title="{{y.DueDate | date:'dd MMM h:mm a'}}">{{y.DueDate | date:'dd MMM h:mm a'}}</div>
                                </div>
                                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                                    <div class="text-single-line" title="{{y.Delay}}">{{y.Delay}}</div>
                                    <div class="text-single-line" title="{{y.UserName}}">{{y.UserName}}</div>
                                </div>
                                <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
                                    <div class="dropdown my-task-assign-to" data-ng-if="y.Status == 'AVAILABLE'">
                                        <i class="fa fa-calendar-o dropdown-toggle my-task-head-icon" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false"></i>
                                        <div class="dropdown-menu" role="menu">
                                            <form class="clearfix" role="form">
                                                <div class="col-xs-6 col-md-6 col-lg-6 col-sm-6">
                                                    <div class="radio">
                                                        <label>
                                                            <input name="mt-task-assign-to" type="radio" class="colored-blue" data-ng-model="y.AvailableObj.RadioBtnOption" value="Me">
                                                            <span class="text">Me</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-6 col-md-6 col-lg-6 col-sm-6">
                                                    <div class="radio">
                                                        <label>
                                                            <input name="mt-task-assign-to" type="radio" class="colored-blue" data-ng-model="y.AvailableObj.RadioBtnOption" value="Others">
                                                            <span class="text">Others</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" data-ng-if="y.AvailableObj.RadioBtnOption == 'Others'">
                                                    <div class="form-group">
                                                        <div class="clearfix">
                                                            <input type="text" class="form-control input-sm" ng-model="y.AvailableObj.AssignTo" placeholder="User" uib-typeahead="x.EmailId as x.EmailId for x in  MyTaskCtrl.ePage.Masters.GetUserList($viewValue)"
                                                                typeahead-loading="MyTaskCtrl.ePage.Masters.IsLoading" typeahead-no-results="MyTaskCtrl.ePage.Masters.NoRecords">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mb-5">
                                                    <button class="btn btn-primary btn-xs pull-right" data-ng-click="MyTaskCtrl.ePage.Masters.MyTask.AvailableStatusSave(y)" data-ng-bind="y.AvailableObj.SaveBtnText"
                                                        data-ng-disabled="!y.AvailableObj.RadioBtnOption || y.AvailableObj.IsDisableSaveBtn"></button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="dropdown my-task-assign-to" data-ng-if="y.Status == 'ASSIGNED'">
                                        <i class="fa fa-cube dropdown-toggle my-task-head-icon" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false"></i>
                                        <div class="dropdown-menu assigned" role="menu">
                                            <form class="clearfix" role="form">
                                                <div class="col-xs-6 col-md-6 col-lg-6 col-sm-6">
                                                    <div class="radio">
                                                        <label>
                                                            <input name="mt-task-assign-to" type="radio" class="colored-blue" data-ng-model="y.AssignedObj.RadioBtnOption" value="MoveToQueue">
                                                            <span class="text">Move To Queue</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-6 col-md-6 col-lg-6 col-sm-6">
                                                    <div class="radio">
                                                        <label>
                                                            <input name="mt-task-assign-to" type="radio" class="colored-blue" data-ng-model="y.AssignedObj.RadioBtnOption" value="Others">
                                                            <span class="text">Assign To Others</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" data-ng-if="y.AssignedObj.RadioBtnOption == 'Others'">
                                                    <div class="form-group">
                                                        <div class="clearfix">
                                                            <input type="text" class="form-control input-sm" ng-model="y.AssignedObj.AssignTo" placeholder="User" uib-typeahead="x.EmailId as x.EmailId for x in  MyTaskCtrl.ePage.Masters.GetUserList($viewValue)"
                                                                typeahead-loading="MyTaskCtrl.ePage.Masters.IsLoading" typeahead-no-results="MyTaskCtrl.ePage.Masters.NoRecords">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 mb-5 mt-5">
                                                    <button class="btn btn-primary btn-xs pull-right" data-ng-click="MyTaskCtrl.ePage.Masters.MyTask.AssignedStatusSave(y)" data-ng-bind="y.AssignedObj.SaveBtnText"
                                                        data-ng-disabled="y.AssignedObj.IsDisableSaveBtn"></button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 text-right">
                                    <div class="text-single-line" title="{{y.EntitySource}} # {{y.KeyReference}}">{{y.EntitySource}} # {{y.KeyReference}}</div>
                                    <div class="text-single-line" title="{{y.PSI_InstanceNo}}">{{y.PSI_InstanceNo}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="my-task-body clearfix">
                            <div class="clearfix mb-5">
                                <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9 col-xl-9">
                                    <div class="my-task-title-inner">{{y.WSI_StepName}}</div>
                                    <div class="my-task-sub-title-inner">{{y.KPIDescription}}</div>
                                </div>
                                <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3 col-xl-3 pl-0">
                                    <a class="a-button a-button-primary" href="javascript:void(0);" data-ng-click="MyTaskCtrl.ePage.Masters.MyTask.EditActivity(y)">Edit Activity</a>
                                </div>
                            </div>
                            <div class="clearfix">
                                <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 col-xl-2">
                                    <div class="my-task-inner-icon clearfix">
                                        <i data-ng-class="y.OtherConfig.icon ? y.OtherConfig.icon : 'fa fa-plane'" data-ng-style="y.OtherConfig.color ? {'color': y.OtherConfig.color} : {'color': '#000'}"></i>
                                    </div>
                                    <div class="clearfix my-task-directive-icon-wrapper">
                                        <a href="javascript: void(0)" document-modal input="y.StandardMenuInput" class="my-task-directive-icon fa fa-file-text-o"></a>
                                        <a href="javascript: void(0)" comment-modal input="y.StandardMenuInput" class="my-task-directive-icon fa fa-comment-o"></a>
                                        <a href="javascript: void(0)" email-template-modal input="y.StandardMenuInput" class="my-task-directive-icon fa fa-envelope-o"></a>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-10 col-md-10 col-lg-10 col-xl-10">
                                    <my-task-dynamic-directive task-obj="y"></my-task-dynamic-directive>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4 hidden-xs hidden-sm" data-ng-if="MyTaskCtrl.ePage.Masters.IsToggleFilter">
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-lg-6 col-xl-6 pr-5">
                <select chosen class="form-control" data-ng-model="MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList.ProcessName" data-ng-options="x.ProcessName as x.ProcessName
                           for x in MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList" data-ng-change="MyTaskCtrl.ePage.Masters.OnProcessChange((MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList | filter: {'ProcessName': MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList.ProcessName})[0])"
                    search-contains="true">
                    <option value="">All</option>
                </select>
            </div>
            <div class="col-xs-6 col-sm-6 col-lg-6 col-xl-6 pl-5">
                <select chosen class="form-control" data-ng-model="MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList.Description" data-ng-options="x.Description as x.Description
                    for x in MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList" data-ng-change="MyTaskCtrl.ePage.Masters.OnWorkItemChange((MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList | filter: {'Description': MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList.Description})[0])"
                    search-contains="true">
                    <option value="">All</option>
                </select>
            </div>
        </div>
        <div class="control-list clearfix">
            <ul>
                <li class="clearfix p-30 text-center" data-ng-if="!MyTaskCtrl.ePage.Masters.MyTask.WorkItemList">
                    <i class="fa fa-spin fa-spinner" style="font-size: 18px;"></i>
                </li>
                <li class="clearfix p-30 text-center" data-ng-if="MyTaskCtrl.ePage.Masters.MyTask.WorkItemList.length == 0">No Records...</li>
                <li data-ng-repeat="x in MyTaskCtrl.ePage.Masters.MyTask.WorkItemList" data-ng-if="MyTaskCtrl.ePage.Masters.MyTask.WorkItemList.length > 0">
                    <div class="col-xs-12 col-sm-12 col-md-7 col-lg-7 col-xl-7 p-0">
                        <div class="control-title">{{x.WSI_StepName}}</div>
                        <div class="control-title-2">{{x.KPIDescription}}</div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-5 col-lg-5 col-xl-5 pr-0 text-center">
                        <a href="javascript:void(0);" data-ng-bind="x.Available" title="Available" class="control-count color-green" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Available')"></a>
                        <a href="javascript:void(0);" data-ng-bind="x.Assigned" title="Assigned" class="control-count color-blue" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Assigned')"></a>
                        <a href="javascript:void(0);" data-ng-bind="x.OverDue" title="OverDue" class="control-count color-red" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'OverDue')"></a>
                        <!-- <a href="javascript:void(0);" data-ng-bind="x.Completed" title="Completed" class="control-count color-blue" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Completed')"></a> -->
                        <!-- <a href="javascript:void(0);" data-ng-bind="x.Waiting" title="Waiting" class="control-count color-blue" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Waiting')"></a> -->
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="hidden-lg mytask-filter mytask-filter-hide">
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-lg-6 col-xl-6 pr-5">
                <select chosen class="form-control" data-ng-model="MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList.ProcessName" data-ng-options="x.ProcessName as x.ProcessName
                           for x in MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList" data-ng-change="MyTaskCtrl.ePage.Masters.OnProcessChange((MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList | filter: {'ProcessName': MyTaskCtrl.ePage.Masters.MyTask.EBPMProcessMasterList.ProcessName})[0])"
                    search-contains="true">
                    <option value="">All</option>
                </select>
            </div>
            <div class="col-xs-6 col-sm-6 col-lg-6 col-xl-6 pl-5">
                <select chosen class="form-control" data-ng-model="MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList.Description" data-ng-options="x.Description as x.Description
                    for x in MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList" data-ng-change="MyTaskCtrl.ePage.Masters.OnWorkItemChange((MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList | filter: {'Description': MyTaskCtrl.ePage.Masters.MyTask.EBPMWorkStepItemList.Description})[0])"
                    search-contains="true">
                    <option value="">All</option>
                </select>
            </div>
        </div>
        <div class="control-list clearfix">
            <ul>
                <li class="clearfix p-30 text-center" data-ng-if="!MyTaskCtrl.ePage.Masters.MyTask.WorkItemList">
                    <i class="fa fa-spin fa-spinner" style="font-size: 18px;"></i>
                </li>
                <li class="clearfix p-30 text-center" data-ng-if="MyTaskCtrl.ePage.Masters.MyTask.WorkItemList.length == 0">No Records...</li>
                <li data-ng-repeat="x in MyTaskCtrl.ePage.Masters.MyTask.WorkItemList" data-ng-if="MyTaskCtrl.ePage.Masters.MyTask.WorkItemList.length > 0">
                    <div class="col-xs-7 col-sm-7 col-md-7 col-lg-7 col-xl-7 p-0">
                        <div class="control-title">{{x.WSI_StepName}}</div>
                        <div class="control-title-2">{{x.KPIDescription}}</div>
                    </div>
                    <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 col-xl-5 pr-0 text-center">
                        <a href="javascript:void(0);" data-ng-bind="x.Available" title="Available" class="control-count color-green" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Available')"></a>
                        <a href="javascript:void(0);" data-ng-bind="x.Assigned" title="Assigned" class="control-count color-blue" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Assigned')"></a>
                        <a href="javascript:void(0);" data-ng-bind="x.OverDue" title="OverDue" class="control-count color-red" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'OverDue')"></a>
                        <!-- <a href="javascript:void(0);" data-ng-bind="x.Completed" title="Completed" class="control-count color-blue" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Completed')"></a> -->
                        <!-- <a href="javascript:void(0);" data-ng-bind="x.Waiting" title="Waiting" class="control-count color-blue" data-ng-click="MyTaskCtrl.ePage.Masters.OnWorkItemClick(x, 'Waiting')"></a> -->
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
