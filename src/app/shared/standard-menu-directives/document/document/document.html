<div class="document-list-container clearfix">
    <!-- Header -->
    <div class="sm-header">
        <file-upload-custom data-ng-if="DocumentCtrl.mode == '2'" class="file-upload-directive" ng-model="DocumentCtrl.ePage.Masters.Documents.fileDetails"
            size="{{DocumentCtrl.ePage.Masters.Documents.fileSize}}" auth="{{DocumentCtrl.ePage.Masters.Documents.Autherization}}"
            additional-value="{{DocumentCtrl.ePage.Masters.Documents.AdditionalValue}}" url="{{DocumentCtrl.ePage.Masters.Documents.UploadUrl}}"
            doc-type="*" multiple-file="true" is-disabled="!DocumentCtrl.type || !DocumentCtrl.type.DocType" fu-class="left"
            get-uploaded-files="DocumentCtrl.ePage.Masters.Documents.GetUploadedFiles($item, x, 'attach')" get-selected-files="DocumentCtrl.ePage.Masters.Documents.GetSelectedFiles($item, x, 'attach')"
            modal-template="" template="">
            <button class="btn btn-danger btn-sm mr-10" data-ng-disabled="!DocumentCtrl.type || !DocumentCtrl.type.DocType">Attach</button>
        </file-upload-custom>
        <button class="btn btn-default btn-sm mr-10" data-ng-click="DocumentCtrl.ePage.Masters.Documents.Refresh()">Refresh</button>
        <button class="btn btn-default btn-sm mr-10" data-ng-click="DocumentCtrl.ePage.Masters.Documents.DeleteHistory(DocumentCtrl.ePage.Masters.Documents.ListSource, 'delete')">Delete History</button>
    </div>
    <!-- Sidebar -->
    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-3 col-xl-3 sm-sidebar-container list-mode" data-ng-if="DocumentCtrl.mode == '1'">
        <div class="main">
            <div class="clearfix text-center p-20" data-ng-if="!DocumentCtrl.ePage.Masters.Documents.DocumentTypeList">
                <i class="fa fa-spin fa-spinner font-160"></i>
            </div>
            <div class="clearfix text-center p-20" data-ng-if="DocumentCtrl.ePage.Masters.Documents.DocumentTypeList && DocumentCtrl.ePage.Masters.Documents.DocumentTypeList.length == 0">
                <i class="">No Records...!</i>
            </div>
            <ul class="p-0" data-ng-if="DocumentCtrl.ePage.Masters.Documents.DocumentTypeList && DocumentCtrl.ePage.Masters.Documents.DocumentTypeList.length > 0">
                <li class="text-single-line" data-ng-class="{'active': x.DocType == DocumentCtrl.ePage.Masters.Documents.SideBar.ActiveDocumentType.DocType}"
                    data-ng-repeat="x in DocumentCtrl.ePage.Masters.Documents.DocumentTypeList" data-ng-click="(x.DocType != DocumentCtrl.ePage.Masters.Documents.SideBar.ActiveDocumentType.DocType) && DocumentCtrl.ePage.Masters.Documents.SideBar.OnListClick(x)"
                    title="{{x.Desc}}">{{x.Desc}}
                    <file-upload-custom class="file-upload-directive" ng-model="DocumentCtrl.ePage.Masters.Documents.fileDetails" size="{{DocumentCtrl.ePage.Masters.Documents.fileSize}}"
                        auth="{{DocumentCtrl.ePage.Masters.Documents.Autherization}}" additional-value="{{DocumentCtrl.ePage.Masters.Documents.AdditionalValue}}"
                        url="{{DocumentCtrl.ePage.Masters.Documents.UploadUrl}}" doc-type="*" multiple-file="true" is-disabled="false"
                        fu-class="left" get-uploaded-files="DocumentCtrl.ePage.Masters.Documents.GetUploadedFiles($item, x, 'new')"
                        get-selected-files="DocumentCtrl.ePage.Masters.Documents.GetSelectedFiles($item, x, 'new')" modal-template=""
                        template="">
                        <i class="fa fa-plus-circle attach-icon" data-ng-if="x.Desc != 'All'"></i>
                    </file-upload-custom>
                </li>
            </ul>
        </div>
    </div>
    <!-- Body -->
    <div class="sm-content-wrapper" data-ng-class="DocumentCtrl.mode == '1' ? 'col-xs-12 col-sm-12 col-md-8 col-lg-9 col-xl-9' : 'col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0' ">
        <div class="template-body">
            <!-- List View -->
            <div class="document-list-view-container clearfix">
                <div class="clearfix">
                    <!-- Header -->
                    <div class="clearfix heading">
                        <!-- <div class="clearfix">
                            <div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 col-xl-1"></div>
                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 p-0">
                                <div class="p-5 text-single-line">File/Type</div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                                <div class="p-5 text-single-line">Description</div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <div class="p-5 text-single-line">Uploaded By/On</div>
                            </div>
                        </div> -->
                    </div>
                    <!-- Loading -->
                    <div class="p-20 text-center loading" data-ng-if="!DocumentCtrl.ePage.Masters.Documents.ListSource">
                        <i class="fa fa-spin fa-spinner font-160"></i>
                    </div>
                    <!-- No Records -->
                    <div class="p-20 text-center" data-ng-if="DocumentCtrl.ePage.Masters.Documents.ListSource && DocumentCtrl.ePage.Masters.Documents.ListSource.length == 0">
                        <i>No Records...!</i>
                    </div>
                    <div class="clearfix list" data-ng-if="DocumentCtrl.ePage.Masters.Documents.ListSource && DocumentCtrl.ePage.Masters.Documents.ListSource.length > 0"
                        data-ng-repeat="x in DocumentCtrl.ePage.Masters.Documents.ListSource">
                        <div class="clearfix p-10" data-ng-if="x.IsNew">
                            <div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 col-xl-1"></div>
                            <div class="col-xs-12 col-sm-12 col-md-11 col-lg-11 col-xl-11 pl-0">
                                <div class="loading-file-name">
                                    <span>{{x.name}}</span>
                                </div>
                                <div class="meter">
                                    <span></span>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix" data-ng-if="!x.IsNew">
                            <div class="col-xs-12 col-sm-12 col-md-1 col-lg-1 col-xl-1 text-center">
                                <!--Delete -->
                                <span class="action-icon remove" data-ng-click="x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId && DocumentCtrl.ePage.Masters.Documents.RemoveRecord(x, $index)" title="Remove" data-ng-class="(x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId) ? 'enabled' : 'disabled'">
                                    <i class="glyphicon glyphicon-trash"></i>
                                </span>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 p-0">
                                <div class="p-5 pb-0 pr-25 text-single-line">
                                    <img ng-src="assets/img/file-types/{{x.FileName | getFileExtension}}.png" alt="">
                                    <a href="javascript:void(0);" data-ng-bind="x.FileName" title="{{x.FileName}}" data-ng-click="x.PK && DocumentCtrl.ePage.Masters.Documents.DownloadRecord(x, $index)"></a>
                                </div>
                                <span class="doc-download-count" data-ng-bind="x.DownloadCount" title="Download History" data-ng-click="x.DownloadCount > 0 && DocumentCtrl.ePage.Masters.Documents.DownloadHistory(x,'download')"
                                    data-ng-style="(x.DownloadCount > 0) ? {'cursor': 'pointer'} : {'cursor': 'text'}"></span>
                                <div class="text-single-line document-type">
                                    <span data-ng-bind="x.DocumentType" title="{{x.DocumentType}}"></span>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 document-name-padding">
                                <input type="text" class="form-control input-sm" placeholder="Name" data-ng-model="x.DocumentName" data-ng-if="x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId || (x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && x.IsResticted)">
                                <div data-ng-if="x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && !x.IsResticted" data-ng-bind="x.DocumentName"
                                    class="p-5 text-single-line pl-10" title="{{x.DocumentName}}"></div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
                                <div class="p-5 text-single-line pb-0" data-ng-bind="(x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId) ? 'Me' : x.CreatedBy"
                                    title="{{x.CreatedBy}}"></div>
                                <div href="javascript:void(0);" class="pl-5 pr-5 text-single-line document-created-date-time" data-ng-bind="x.CreatedDateTime | date: 'dd-MMM-yy h:mm a'"
                                    title="{{x.CreatedDateTime | date: 'dd-MMM-yy h:mm a'}}"></div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2">
                                <file-upload-custom class="file-upload-directive" ng-model="DocumentCtrl.ePage.Masters.Documents.fileDetails" size="{{DocumentCtrl.ePage.Masters.Documents.fileSize}}"
                                    auth="{{DocumentCtrl.ePage.Masters.Documents.Autherization}}" additional-value="{{DocumentCtrl.ePage.Masters.Documents.AdditionalValue}}"
                                    url="{{DocumentCtrl.ePage.Masters.Documents.UploadUrl}}" doc-type="*" multiple-file="false"
                                    is-disabled="x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && !x.IsResticted"
                                    fu-class="left" get-uploaded-files="DocumentCtrl.ePage.Masters.Documents.GetUploadedFiles($item, x, 'amend', x)"
                                    get-selected-files="DocumentCtrl.ePage.Masters.Documents.GetSelectedFiles($item, x, 'amend', x)"
                                    modal-template="" template="">
                                    <a href="javascript:void(0);" class="doc-amend-link" title="Amend" data-ng-class="(x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && !x.IsResticted) ? 'disabled' : 'enabled'">Amend</a>
                                </file-upload-custom>
                                <span href="javascript:void(0);" data-ng-bind="x.AmendCount" title="Amend History" data-ng-click="x.AmendCount > 0 && DocumentCtrl.ePage.Masters.Documents.AmendHistory(x, 'amend')"
                                    class="doc-amend-count" data-ng-style="(x.AmendCount > 0) ? {'cursor': 'pointer'} : {'cursor': 'text'}"></span>
                                <!-- Save -->
                                <span class="action-icon fa fa-save save ml-10" title="Save" data-ng-click="(x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId || (x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && x.IsResticted)) && DocumentCtrl.ePage.Masters.Documents.OnDocDescChanges(x, $index)"
                                    data-ng-class="(x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId || (x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && x.IsResticted)) ? 'enabled' : 'disabled'"></span>
                                <!-- Access -->
                                <span class="action-icon dropdown document-access-dropdown-menu" data-ng-if="x.GroupMapping && (x.CreatedBy == DocumentCtrl.ePage.Masters.Documents.UserId || (x.CreatedBy != DocumentCtrl.ePage.Masters.Documents.UserId && x.IsResticted)) && DocumentCtrl.mode == '1'"
                                    one-level-mapping input="x.GroupMapping" object="x"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
