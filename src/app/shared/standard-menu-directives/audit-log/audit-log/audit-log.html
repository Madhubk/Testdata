<div class="clearfix sm-audit-log-container">
    <!-- Header -->
    <div class="sm-header">
        <button class="btn btn-default btn-sm mr-10" data-ng-click="AuditLogCtrl.ePage.Masters.AuditLog.Refresh()">Refresh</button>
    </div>
    <!-- Field List -->
    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 sm-sidebar-container list-mode">
        <div class="main">
            <div class="text-center p-20" data-ng-if="!AuditLogCtrl.ePage.Masters.AuditLog.Fields.ListSource">
                <i class="fa fa-spin fa-spinner font-160" style="color: #fff;"></i>
            </div>
            <div class="text-center p-20" data-ng-if="AuditLogCtrl.ePage.Masters.AuditLog.Fields.ListSource && AuditLogCtrl.ePage.Masters.AuditLog.Fields.ListSource.length === 0">
                <i>No Records...!</i>
            </div>
            <ul class="clearfix p-0" data-ng-if="AuditLogCtrl.ePage.Masters.AuditLog.Fields.ListSource && AuditLogCtrl.ePage.Masters.AuditLog.Fields.ListSource.length > 0">
                <li class="text-single-line" data-ng-repeat="x in AuditLogCtrl.ePage.Masters.AuditLog.Fields.ListSource"
                    data-ng-class="{'active': x.UIField == AuditLogCtrl.ePage.Masters.AuditLog.Fields.ActiveField.UIField}" data-ng-click=" AuditLogCtrl.ePage.Masters.AuditLog.Fields.ActiveField.UIField!= x.UIField && AuditLogCtrl.ePage.Masters.AuditLog.OnFieldClick(x)"
                    data-ng-bind="x.UIField"></li>
            </ul>
        </div>
    </div>
    <!-- Audit List -->
    <div class="sm-content-wrapper audit-list-container col-xs-10 col-sm-10 col-md-10 col-lg-10 col-xl-10">
        <div class="template-body">
            <div class="audit-log-search clearfix">
                <input class="audit-log-search-textbox form-control input-sm" type="text" data-ng-model="AuditLogCtrl.ePage.Masters.AuditLog.History.Search"
                    placeholder="Search">
            </div>
            <div class="clearfix">
                <div class="text-center p-20" data-ng-if="!AuditLogCtrl.ePage.Masters.AuditLog.History.ListSource">
                    <i class="fa fa-spin fa-spinner font-160"></i>
                </div>
                <div class="text-center p-20" data-ng-if="AuditLogCtrl.ePage.Masters.AuditLog.History.ListSource && AuditLogCtrl.ePage.Masters.AuditLog.History.ListSource.length === 0">
                    <i>No Records...!</i>
                </div>
                <div class="clearfix" data-ng-if="AuditLogCtrl.ePage.Masters.AuditLog.History.ListSource && AuditLogCtrl.ePage.Masters.AuditLog.History.ListSource.length > 0"
                    data-ng-repeat="(key, value) in AuditLogCtrl.ePage.Masters.AuditLog.HistoryFields | toArray | orderBy: '$key': true">
                    <div class="audit-log-date clearfix" data-ng-bind="value.$key"></div>
                    <ul class="audit-list clearfix">
                        <div class="clearfix text-center p-5" data-ng-if="value && (value | filter: AuditLogCtrl.ePage.Masters.AuditLog.History.Search).length === 0">
                            <i>No Records...!</i>
                        </div>
                        <li class="clearfix" data-ng-if="value && value.length > 0" data-ng-repeat="x in value | orderBy: 'CreatedDateTime' : true | filter: AuditLogCtrl.ePage.Masters.AuditLog.History.Search">
                            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-2 col-xl-2">
                                <span class="date-time text-single-line" data-ng-bind="x.FieldName"></span>
                            </div>
                            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-2 col-xl-2">
                                <span class="date-time text-single-line" data-ng-bind="x.CreatedDateTime | date: 'hh:mm a'"></span>
                            </div>
                            <div class="col-xs-4 col-sm-4 col-md-4 col-lg-8 col-xl-8">
                                <div class="audit-txt text-single-line" data-ng-bind-html="x.DBSource | auditHistory: x || AuditLogCtrl.ePage.Masters.EmptyText"></div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
